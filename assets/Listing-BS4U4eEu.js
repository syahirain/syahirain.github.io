import{J as z,d as f,o as d,c as m,b as r,f as $,n as b,u as e,g as w,r as T,K as O,L as P,p as V,i as B,w as t,a,M as C,e as s,N as Q,O as W,P as X,C as Y,y as ee,F as ae,A as te,t as k}from"./index-DXkLAY99.js";import{u as M,_ as se,a as le}from"./TabsContent.vue_vue_type_script_setup_true_lang-Nu-7vaCB.js";import{a as E,b as q,c as H,d as R,e as F,f as ne,g as oe,h as ce,i as ue,j as re,k as S,l as de,m as J,n as K,o as Z,_ as ie}from"./AddShapes.vue_vue_type_script_setup_true_lang-CuG1NwG7.js";import{_ as A}from"./Label.vue_vue_type_script_setup_true_lang-Dt27Mbkz.js";/**
 * @license lucide-vue-next v0.342.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=z("PencilLineIcon",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-vue-next v0.342.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=z("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),fe={class:"relative w-full overflow-auto"},he=f({__name:"Table",props:{class:{}},setup(o){const c=o;return(l,u)=>(d(),m("div",fe,[r("table",{class:b(e(w)("w-full caption-bottom text-sm",c.class))},[$(l.$slots,"default")],2)]))}}),me=f({__name:"TableBody",props:{class:{}},setup(o){const c=o;return(l,u)=>(d(),m("tbody",{class:b(e(w)("[&_tr:last-child]:border-0",c.class))},[$(l.$slots,"default")],2))}}),y=f({__name:"TableCell",props:{class:{}},setup(o){const c=o;return(l,u)=>(d(),m("td",{class:b(e(w)("p-4 align-middle [&:has([role=checkbox])]:pr-0",c.class))},[$(l.$slots,"default")],2))}}),x=f({__name:"TableHead",props:{class:{}},setup(o){const c=o;return(l,u)=>(d(),m("th",{class:b(e(w)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",c.class))},[$(l.$slots,"default")],2))}}),ve=f({__name:"TableHeader",props:{class:{}},setup(o){const c=o;return(l,u)=>(d(),m("thead",{class:b(e(w)("[&_tr]:border-b",c.class))},[$(l.$slots,"default")],2))}}),j=f({__name:"TableRow",props:{class:{}},setup(o){const c=o;return(l,u)=>(d(),m("tr",{class:b(e(w)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",c.class))},[$(l.$slots,"default")],2))}}),ge=f({__name:"TableCaption",props:{class:{}},setup(o){const c=o;return(l,u)=>(d(),m("caption",{class:b(e(w)("mt-4 text-sm text-muted-foreground",c.class))},[$(l.$slots,"default")],2))}}),ye={class:"grid gap-4 py-4"},xe={class:"grid grid-cols-4 items-center gap-4"},$e={class:"grid grid-cols-4 items-center gap-4"},be={class:"grid grid-cols-4 items-center gap-4"},we=f({__name:"UpdateShapes",props:["name","shape","color","shapeId"],setup(o){async function c(){await N.fetchData(),await N.fetchOverviewData()}const{name:l,shape:u,color:h,shapeId:L}=o,i=T(""),n=T(""),p=T("000000"),_=T(!0),I=O(),{toast:U}=P(),N=M();i.value=l,n.value=u,p.value=h;async function G(){try{const g=await fetch("http://157.230.249.79/api/shapes/"+L,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+I.authToken},body:JSON.stringify({name:i.value,shape:n.value,color:p.value})});if(g.ok){c();const v=await g.json();U({title:"Status",description:v.message})}else console.error("Login failed",g.statusText)}catch(g){console.log(g),console.error("An error occurred during login",g)}}return V(i,async()=>{_.value=i.value===l&&n.value===u&&p.value===h}),V(n,async()=>{_.value=i.value===l&&n.value===u&&p.value===h}),V(p,async()=>{_.value=i.value===l&&n.value===u&&p.value===h}),(g,v)=>(d(),B(e(Z),null,{default:t(()=>[a(e(E),{"as-child":""},{default:t(()=>[a(e(C),{variant:"outline",size:"icon",class:"mx-1"},{default:t(()=>[a(e(_e),{class:"w-5 h-5 mx-1"})]),_:1})]),_:1}),a(e(q),{class:"sm:max-w-[425px]"},{default:t(()=>[a(e(H),null,{default:t(()=>[a(e(R),null,{default:t(()=>[s("Update shape")]),_:1}),a(e(F),null,{default:t(()=>[s(" Please enter shape details. ")]),_:1})]),_:1}),r("div",ye,[r("div",xe,[a(e(A),{for:"name",class:"text-right"},{default:t(()=>[s(" Name ")]),_:1}),a(e(Q),{id:"name",modelValue:i.value,"onUpdate:modelValue":v[0]||(v[0]=D=>i.value=D),class:"col-span-3"},null,8,["modelValue"])]),r("div",$e,[a(e(A),{for:"shape",class:"text-right"},{default:t(()=>[s(" Shape ")]),_:1}),a(e(ne),{id:"shape",modelValue:n.value,"onUpdate:modelValue":v[1]||(v[1]=D=>n.value=D)},{default:t(()=>[a(e(oe),{class:"col-span-3"},{default:t(()=>[a(e(ce),{placeholder:"Select a shape"})]),_:1}),a(e(ue),null,{default:t(()=>[a(e(re),null,{default:t(()=>[a(e(S),{value:"circle"},{default:t(()=>[s(" Circle ")]),_:1}),a(e(S),{value:"oval"},{default:t(()=>[s(" Oval ")]),_:1}),a(e(S),{value:"rectangle"},{default:t(()=>[s(" Rectangle ")]),_:1}),a(e(S),{value:"square"},{default:t(()=>[s(" Square ")]),_:1}),a(e(S),{value:"trapezoid"},{default:t(()=>[s(" Trapezoid ")]),_:1}),a(e(S),{value:"triangle"},{default:t(()=>[s(" Triangle ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),r("div",be,[a(e(A),{for:"color",class:"text-right"},{default:t(()=>[s(" Color ")]),_:1}),a(e(de),{id:"color",modelValue:p.value,"onUpdate:modelValue":v[2]||(v[2]=D=>p.value=D),format:"hex"},null,8,["modelValue"])])]),a(e(J),null,{default:t(()=>[a(e(K),{"as-child":""},{default:t(()=>[a(e(C),{type:"submit",onClick:G,disabled:_.value},{default:t(()=>[s(" Update shape ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),ke=r("span",{class:"font-bold"},"delete-shape",-1),Se={class:"grid gap-4 py-4"},Te={class:"grid grid-cols-4 items-center gap-4"},De=f({__name:"DeleteShapes",props:["shapeId"],setup(o){const{shapeId:c}=o,l=T(""),u=T(!0),h=M(),L=O(),{toast:i}=P();async function n(){await h.fetchData(),await h.fetchOverviewData()}V(l,async()=>{u.value=l.value!=="delete-shape"});async function p(){try{const _=await fetch("http://157.230.249.79/api/shapes/"+c,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+L.authToken}});_.ok?(n(),i({title:"Status",description:"Shape deleted"})):console.error("Delete failed",_.statusText)}catch(_){console.log(_),console.error("An error occurred during delete shape",_)}}return(_,I)=>(d(),B(e(Z),null,{default:t(()=>[a(e(E),{"as-child":""},{default:t(()=>[a(e(C),{variant:"outline",size:"icon",class:"mx-1"},{default:t(()=>[a(e(pe),{class:"w-5 h-5 mx-1"})]),_:1})]),_:1}),a(e(q),{class:"sm:max-w-[425px]"},{default:t(()=>[a(e(H),null,{default:t(()=>[a(e(R),null,{default:t(()=>[s("Delete shape")]),_:1}),a(e(F),null,{default:t(()=>[s(" Type "),ke,s(" and click Delete button. ")]),_:1})]),_:1}),r("div",Se,[r("div",Te,[W(r("input",{id:"name","onUpdate:modelValue":I[0]||(I[0]=U=>l.value=U),class:"col-span-3",placeholder:"type here"},null,512),[[X,l.value]])])]),a(e(J),null,{default:t(()=>[a(e(K),{"as-child":""},{default:t(()=>[a(e(C),{type:"submit",onClick:p,disabled:u.value},{default:t(()=>[s(" Delete ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Le={class:"flex-1 space-y-4 p-8 pt-6"},Ie={class:"flex items-center justify-between space-y-2"},Ve=r("h2",{class:"text-3xl font-bold tracking-tight"}," Shapes Listing ",-1),Ce={class:"flex items-center space-x-2"},Ne=f({__name:"Listing",props:{shapesLength:{},shapesLengthModifiers:{}},emits:["update:shapesLength"],setup(o){async function c(){await u.fetchData(),l.value=u.shapesLength}const l=Y(o,"shapesLength"),u=M();c();const{shapes:h}=ee(u);return(L,i)=>(d(),m("div",Le,[r("div",Ie,[Ve,r("div",Ce,[a(ie)])]),a(e(le),{"default-value":"overview",class:"space-y-4"},{default:t(()=>[a(e(se),{value:"overview",class:"space-y-4"},{default:t(()=>[a(e(he),null,{default:t(()=>[a(e(ge),null,{default:t(()=>[s("A list of all shapes.")]),_:1}),a(e(ve),null,{default:t(()=>[a(e(j),null,{default:t(()=>[a(e(x),{class:"w-[100px]"},{default:t(()=>[s(" ID ")]),_:1}),a(e(x),null,{default:t(()=>[s("Name")]),_:1}),a(e(x),null,{default:t(()=>[s("Shape")]),_:1}),a(e(x),null,{default:t(()=>[s("Color")]),_:1}),a(e(x),null,{default:t(()=>[s("Created at")]),_:1}),a(e(x),null,{default:t(()=>[s("Updated at")]),_:1}),a(e(x),{class:"text-right"})]),_:1})]),_:1}),a(e(me),null,{default:t(()=>[(d(!0),m(ae,null,te(e(h),n=>(d(),B(e(j),{key:n.id},{default:t(()=>[a(e(y),{class:"font-medium"},{default:t(()=>[s(k(n.id),1)]),_:2},1024),a(e(y),null,{default:t(()=>[s(k(n.name),1)]),_:2},1024),a(e(y),null,{default:t(()=>[s(k(n.shape),1)]),_:2},1024),a(e(y),null,{default:t(()=>[s(k(n.color),1)]),_:2},1024),a(e(y),null,{default:t(()=>[s(k(n.created_at?new Date(n.created_at).toLocaleString():"N/A"),1)]),_:2},1024),a(e(y),null,{default:t(()=>[s(k(n.updated_at?new Date(n.updated_at).toLocaleString():"N/A"),1)]),_:2},1024),a(e(y),{class:"text-right"},{default:t(()=>[a(we,{name:n.name,shape:n.shape,color:n.color,shapeId:n.id},null,8,["name","shape","color","shapeId"]),a(De,{shapeId:n.id},null,8,["shapeId"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{Ne as default};
