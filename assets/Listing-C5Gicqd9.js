import{P as K,T as G,_ as H,a as Q,b as W,c as A,d as p,e as X,f as m}from"./TableCaption.vue_vue_type_script_setup_true_lang-CDsVD3bC.js";import{_ as Y,a as Z}from"./TabsContent.vue_vue_type_script_setup_true_lang-BuAcsid8.js";import{a as ee,b as ae,c as te,d as se,e as le,f as h,g as ne,_ as oe}from"./AddShapes.vue_vue_type_script_setup_true_lang-W8BRepQP.js";import{d as I,r as g,J as B,K as z,p as b,o as w,i as V,w as t,a,u as e,L as T,e as s,b as c,M as ue,N as ie,O as ce,C as de,y as re,c as N,F as _e,A as fe,t as v}from"./index-Dy1s030t.js";import{_ as j,a as O,b as E,c as M,d as P,e as q,f as F,g as J}from"./DialogFooter.vue_vue_type_script_setup_true_lang-YVaS5XyY.js";import{_ as k}from"./Label.vue_vue_type_script_setup_true_lang-CEkesuBw.js";import{u as C}from"./shapes-Cnl21ZeS.js";const pe={class:"grid gap-4 py-4"},me={class:"grid grid-cols-4 items-center gap-4"},he={class:"grid grid-cols-4 items-center gap-4"},ve={class:"grid grid-cols-4 items-center gap-4"},ge=I({__name:"UpdateShapes",props:["name","shape","color","shapeId"],setup($){async function y(){await U.fetchData(),await U.fetchOverviewData()}const{name:n,shape:o,color:r,shapeId:S}=$,u=g(""),l=g(""),d=g("000000"),i=g(!0),D=B(),{toast:L}=z(),U=C();u.value=n,l.value=o,d.value=r;async function R(){try{const f=await fetch("https://ahmadsyahiransite.site/api/shapes/"+S,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+D.authToken},body:JSON.stringify({name:u.value,shape:l.value,color:d.value})});if(f.ok){y();const _=await f.json();L({title:"Status",description:_.message})}else console.error("Login failed",f.statusText)}catch(f){console.log(f),console.error("An error occurred during login",f)}}return b(u,async()=>{i.value=u.value===n&&l.value===o&&d.value===r}),b(l,async()=>{i.value=u.value===n&&l.value===o&&d.value===r}),b(d,async()=>{i.value=u.value===n&&l.value===o&&d.value===r}),(f,_)=>(w(),V(e(J),null,{default:t(()=>[a(e(j),{"as-child":""},{default:t(()=>[a(e(T),{variant:"outline",size:"icon",class:"mx-1"},{default:t(()=>[a(e(K),{class:"w-5 h-5 mx-1"})]),_:1})]),_:1}),a(e(O),{class:"sm:max-w-[425px]"},{default:t(()=>[a(e(E),null,{default:t(()=>[a(e(M),null,{default:t(()=>[s("Update shape")]),_:1}),a(e(P),null,{default:t(()=>[s(" Please enter shape details. ")]),_:1})]),_:1}),c("div",pe,[c("div",me,[a(e(k),{for:"name",class:"text-right"},{default:t(()=>[s(" Name ")]),_:1}),a(e(ue),{id:"name",modelValue:u.value,"onUpdate:modelValue":_[0]||(_[0]=x=>u.value=x),class:"col-span-3"},null,8,["modelValue"])]),c("div",he,[a(e(k),{for:"shape",class:"text-right"},{default:t(()=>[s(" Shape ")]),_:1}),a(e(ee),{id:"shape",modelValue:l.value,"onUpdate:modelValue":_[1]||(_[1]=x=>l.value=x)},{default:t(()=>[a(e(ae),{class:"col-span-3"},{default:t(()=>[a(e(te),{placeholder:"Select a shape"})]),_:1}),a(e(se),null,{default:t(()=>[a(e(le),null,{default:t(()=>[a(e(h),{value:"circle"},{default:t(()=>[s(" Circle ")]),_:1}),a(e(h),{value:"oval"},{default:t(()=>[s(" Oval ")]),_:1}),a(e(h),{value:"rectangle"},{default:t(()=>[s(" Rectangle ")]),_:1}),a(e(h),{value:"square"},{default:t(()=>[s(" Square ")]),_:1}),a(e(h),{value:"trapezoid"},{default:t(()=>[s(" Trapezoid ")]),_:1}),a(e(h),{value:"triangle"},{default:t(()=>[s(" Triangle ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),c("div",ve,[a(e(k),{for:"color",class:"text-right"},{default:t(()=>[s(" Color ")]),_:1}),a(e(ne),{id:"color",modelValue:d.value,"onUpdate:modelValue":_[2]||(_[2]=x=>d.value=x),format:"hex"},null,8,["modelValue"])])]),a(e(q),null,{default:t(()=>[a(e(F),{"as-child":""},{default:t(()=>[a(e(T),{type:"submit",onClick:R,disabled:i.value},{default:t(()=>[s(" Update shape ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),$e=c("span",{class:"font-bold"},"delete-shape",-1),ye={class:"grid gap-4 py-4"},xe={class:"grid grid-cols-4 items-center gap-4"},we=I({__name:"DeleteShapes",props:["shapeId"],setup($){const{shapeId:y}=$,n=g(""),o=g(!0),r=C(),S=B(),{toast:u}=z();async function l(){await r.fetchData(),await r.fetchOverviewData()}b(n,async()=>{o.value=n.value!=="delete-shape"});async function d(){try{const i=await fetch("https://ahmadsyahiransite.site/api/shapes/"+y,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+S.authToken}});i.ok?(l(),u({title:"Status",description:"Shape deleted"})):console.error("Delete failed",i.statusText)}catch(i){console.log(i),console.error("An error occurred during delete shape",i)}}return(i,D)=>(w(),V(e(J),null,{default:t(()=>[a(e(j),{"as-child":""},{default:t(()=>[a(e(T),{variant:"outline",size:"icon",class:"mx-1"},{default:t(()=>[a(e(G),{class:"w-5 h-5 mx-1"})]),_:1})]),_:1}),a(e(O),{class:"sm:max-w-[425px]"},{default:t(()=>[a(e(E),null,{default:t(()=>[a(e(M),null,{default:t(()=>[s("Delete shape")]),_:1}),a(e(P),null,{default:t(()=>[s(" Type "),$e,s(" and click Delete button. ")]),_:1})]),_:1}),c("div",ye,[c("div",xe,[ie(c("input",{id:"name","onUpdate:modelValue":D[0]||(D[0]=L=>n.value=L),class:"col-span-3",placeholder:"type here"},null,512),[[ce,n.value]])])]),a(e(q),null,{default:t(()=>[a(e(F),{"as-child":""},{default:t(()=>[a(e(T),{type:"submit",onClick:d,disabled:o.value},{default:t(()=>[s(" Delete ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Se={class:"flex-1 space-y-4 p-8 pt-6"},De={class:"flex items-center justify-between space-y-2"},be=c("h2",{class:"text-3xl font-bold tracking-tight"}," Shapes Listing ",-1),Te={class:"flex items-center space-x-2"},Ne=I({__name:"Listing",props:{shapesLength:{},shapesLengthModifiers:{}},emits:["update:shapesLength"],setup($){async function y(){await o.fetchData(),n.value=o.shapesLength}const n=de($,"shapesLength"),o=C();y();const{shapes:r}=re(o);return(S,u)=>(w(),N("div",Se,[c("div",De,[be,c("div",Te,[a(oe)])]),a(e(Z),{"default-value":"overview",class:"space-y-4"},{default:t(()=>[a(e(Y),{value:"overview",class:"space-y-4"},{default:t(()=>[a(e(H),null,{default:t(()=>[a(e(Q),null,{default:t(()=>[s("A list of all shapes.")]),_:1}),a(e(W),null,{default:t(()=>[a(e(A),null,{default:t(()=>[a(e(p),{class:"w-[100px]"},{default:t(()=>[s(" ID ")]),_:1}),a(e(p),null,{default:t(()=>[s("Name")]),_:1}),a(e(p),null,{default:t(()=>[s("Shape")]),_:1}),a(e(p),null,{default:t(()=>[s("Color")]),_:1}),a(e(p),null,{default:t(()=>[s("Created at")]),_:1}),a(e(p),null,{default:t(()=>[s("Updated at")]),_:1}),a(e(p),{class:"text-right"})]),_:1})]),_:1}),a(e(X),null,{default:t(()=>[(w(!0),N(_e,null,fe(e(r),l=>(w(),V(e(A),{key:l.id},{default:t(()=>[a(e(m),{class:"font-medium"},{default:t(()=>[s(v(l.id),1)]),_:2},1024),a(e(m),null,{default:t(()=>[s(v(l.name),1)]),_:2},1024),a(e(m),null,{default:t(()=>[s(v(l.shape),1)]),_:2},1024),a(e(m),null,{default:t(()=>[s(v(l.color),1)]),_:2},1024),a(e(m),null,{default:t(()=>[s(v(l.created_at?new Date(l.created_at).toLocaleString():"N/A"),1)]),_:2},1024),a(e(m),null,{default:t(()=>[s(v(l.updated_at?new Date(l.updated_at).toLocaleString():"N/A"),1)]),_:2},1024),a(e(m),{class:"text-right"},{default:t(()=>[a(ge,{name:l.name,shape:l.shape,color:l.color,shapeId:l.id},null,8,["name","shape","color","shapeId"]),a(we,{shapeId:l.id},null,8,["shapeId"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{Ne as default};
